<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.24" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.94" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"RabbitMQ简单使用","image":["https://cdn.jsdelivr.net/gh/mai-junxuan/Cloud-image/image/202209210532087.webp","https://cdn.jsdelivr.net/gh/mai-junxuan/Cloud-image/image/202209210532104.png","https://cdn.jsdelivr.net/gh/mai-junxuan/Cloud-image/image/202209210532481.png","https://cdn.jsdelivr.net/gh/mai-junxuan/Cloud-image/image/202209210532573.png","https://cdn.jsdelivr.net/gh/mai-junxuan/Cloud-image/image/202209210532800.png","https://cdn.jsdelivr.net/gh/mai-junxuan/Cloud-image/image/202209210532250.png","https://cdn.jsdelivr.net/gh/mai-junxuan/Cloud-image/image/202209210532576.png","https://cdn.jsdelivr.net/gh/mai-junxuan/Cloud-image/image/202209210532420.webp","https://cdn.jsdelivr.net/gh/mai-junxuan/Cloud-image/image/202209210532597.webp"],"dateModified":"2023-06-13T21:01:35.000Z","author":[{"@type":"Person","name":"maijunxuan","email":"maijunxuan0309@gmail.com"}]}</script><meta property="og:url" content="https://maijunxuan.cn/%E4%B8%AD%E9%97%B4%E4%BB%B6/RabbitMQ/RabbitMQ%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8.html"><meta property="og:site_name" content="麦俊轩的博客"><meta property="og:title" content="RabbitMQ简单使用"><meta property="og:description" content="RabbitMQ简单使用 一、基础 1.1是什么 RabbitMQ是一个开源的遵循AMQP协议实现的基于Erlang语言编写，支持多种客户端（语言）。用于在分布式系统中存储消息，转发消息，具有高可用，高可扩性，易用性等特征。 1.2命令 常用命令 启动服务 systemctl start rabbitmq-server 重启服务 systemctl r..."><meta property="og:type" content="article"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/mai-junxuan/Cloud-image/image/202209210532087.webp"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2023-06-13T21:01:35.000Z"><meta property="article:modified_time" content="2023-06-13T21:01:35.000Z"><link rel="icon" href="/favicon.ico"><meta name="robots" content="all"><meta name="author" content="maijunxuan"><meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"><meta http-equiv="Pragma" content="no-cache"><meta http-equiv="Expires" content="0"><meta name="apple-mobile-web-app-capable" content="yes"><link rel="alternate" type="application/atom+xml" href="https://maijunxuan.cn/atom.xml" title="麦俊轩的博客 Atom Feed"><link rel="alternate" type="application/json" href="https://maijunxuan.cn/feed.json" title="麦俊轩的博客 JSON Feed"><link rel="alternate" type="application/rss+xml" href="https://maijunxuan.cn/rss.xml" title="麦俊轩的博客 RSS Feed"><title>RabbitMQ简单使用 | 麦俊轩的博客</title><meta name="description" content="RabbitMQ简单使用 一、基础 1.1是什么 RabbitMQ是一个开源的遵循AMQP协议实现的基于Erlang语言编写，支持多种客户端（语言）。用于在分布式系统中存储消息，转发消息，具有高可用，高可扩性，易用性等特征。 1.2命令 常用命令 启动服务 systemctl start rabbitmq-server 重启服务 systemctl r...">
    <link rel="preload" href="/assets/style-DDpPNf-y.css" as="style"><link rel="stylesheet" href="/assets/style-DDpPNf-y.css">
    <link rel="modulepreload" href="/assets/app-BEFL3G1x.js"><link rel="modulepreload" href="/assets/RabbitMQ简单使用.html-Cs0fLIFj.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><!--[--><div class="theme-container no-sidebar external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/" aria-label="带我回家"><!----><!----><span class="vp-site-name">麦俊轩的博客</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="日常"><!--[--><!---->日常<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/%E6%97%A5%E5%B8%B8/IDEA%E7%BF%BB%E8%AF%91%E6%8F%92%E4%BB%B6%E6%8A%A5%E9%94%99%E6%9B%B4%E6%96%B0TKK%E7%9A%84%E9%97%AE%E9%A2%98.html" aria-label="IDEA翻译插件报错更新TKK的问题"><!---->IDEA翻译插件报错更新TKK的问题<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/%E6%97%A5%E5%B8%B8/Vue3%E4%B8%AD%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E8%83%BD%E4%BD%BF%E7%94%A8this.html" aria-label="Vue3中为什么不能使用this"><!---->Vue3中为什么不能使用this<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/%E6%97%A5%E5%B8%B8/windows%E7%AB%AF%E5%8F%A3%E5%86%B2%E7%AA%81%E8%A7%A3%E5%86%B3.html" aria-label="windows端口冲突解决"><!---->windows端口冲突解决<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/%E6%97%A5%E5%B8%B8/%E8%A7%A3%E5%86%B3%E4%BE%9D%E8%B5%96%E5%86%B2%E7%AA%81.html" aria-label="解决依赖冲突"><!---->解决依赖冲突<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/%E6%97%A5%E5%B8%B8/%E5%A6%82%E4%BD%95%E5%86%99%E5%A5%BD%E4%B8%80%E4%B8%AA%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95.html" aria-label="如何写好一个单元测试"><!---->如何写好一个单元测试<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Java"><!--[--><!---->Java<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/Java/Java%E5%9F%BA%E7%A1%80%E5%B0%8F%E7%BB%93.html" aria-label="Java基础小结"><!---->Java基础小结<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/Java/Java%E6%B3%A8%E8%A7%A3%E5%B0%8F%E7%BB%93.html" aria-label="Java注解小结"><!---->Java注解小结<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/Java/Java%E5%8F%8D%E5%B0%84%E5%B0%8F%E7%BB%93.html" aria-label="Java反射小结"><!---->Java反射小结<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/Java/Java%E4%B8%AD%E7%9A%84%E6%B3%9B%E5%9E%8B.html" aria-label="Java中的泛型"><!---->Java中的泛型<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/Java/谈谈Java的异常.html" aria-label="谈谈Java的异常"><!---->谈谈Java的异常<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/Java/Lambda%E5%AE%9E%E8%B7%B5.html" aria-label="Lambda实践"><!---->Lambda实践<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/Java/Stream%E6%B5%81%E5%AE%9E%E8%B7%B5.html" aria-label="Stream流实践"><!---->Stream流实践<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/Java/Java%E4%B8%AD%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2.html" aria-label="Java中的字符串"><!---->Java中的字符串<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="JUC"><!--[--><!---->JUC<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/JUC/Java%E4%B8%AD%E7%9A%84%E7%BA%BF%E7%A8%8B%E6%B1%A0.html" aria-label="Java中的线程池"><!---->Java中的线程池<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/JUC/Java%E4%B8%AD%E7%9A%84%E5%B9%B6%E5%8F%91%E5%AE%B9%E5%99%A8.html" aria-label="Java中的并发容器"><!---->Java中的并发容器<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/JUC/%E8%B0%88%E8%B0%88ThreadLocal.html" aria-label="谈谈ThreadLocal"><!---->谈谈ThreadLocal<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/JUC/synchronized%E7%9A%84%E4%BC%98%E5%8C%96.html" aria-label="synchronized的优化"><!---->synchronized的优化<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/JUC/CAS%E5%92%8C%E5%8E%9F%E5%AD%90%E7%B1%BB.html" aria-label="CAS和原子类"><!---->CAS和原子类<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/JUC/volatile%E5%92%8CCAS%E7%9A%84%E5%BC%8A%E7%AB%AF.html" aria-label="volatile和CAS的弊端"><!---->volatile和CAS的弊端<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/JUC/CompletableFuture%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8.html" aria-label="CompletableFuture简单使用"><!---->CompletableFuture简单使用<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/JUC/AQS%E7%AE%80%E8%BF%B0.html" aria-label="AQS简述"><!---->AQS简述<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/JUC/JUC%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7%E7%B1%BB.html" aria-label="JUC常用工具类"><!---->JUC常用工具类<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="MySQL"><!--[--><!---->MySQL<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/MySQL/MySQL%E5%B8%B8%E7%94%A8%E8%AF%AD%E5%8F%A5.html" aria-label="MySQL常用语句"><!---->MySQL常用语句<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/MySQL/MySQL%E4%B8%AD%E7%9A%84%E4%BA%8B%E5%8A%A1.html" aria-label="MySQL中的事务"><!---->MySQL中的事务<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/MySQL/%E4%B8%80%E6%9D%A1SQL%E7%9A%84%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B.html" aria-label="一条SQL的执行过程"><!---->一条SQL的执行过程<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/MySQL/MySQL%E4%B8%ADdatetime%E5%92%8Ctimestamp%E7%9A%84%E5%8C%BA%E5%88%AB%E4%B8%8E%E9%80%89%E6%8B%A9.html" aria-label="MySQL中datetime和timestamp的区别与选择"><!---->MySQL中datetime和timestamp的区别与选择<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/MySQL/%E6%99%AE%E9%80%9A%E7%B4%A2%E5%BC%95%E5%92%8C%E5%94%AF%E4%B8%80%E7%B4%A2%E5%BC%95%E7%9A%84%E5%8C%BA%E5%88%AB.html" aria-label="普通索引和唯一索引的区别"><!---->普通索引和唯一索引的区别<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/MySQL/Explain%E8%AF%AD%E5%8F%A5.html" aria-label="Explain语句"><!---->Explain语句<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/MySQL/MySQL%E7%9A%84%E6%89%A7%E8%A1%8C%E6%88%90%E6%9C%AC%E6%80%8E%E4%B9%88%E7%AE%97.html" aria-label="MySQL的执行成本怎么算"><!---->MySQL的执行成本怎么算<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/MySQL/MVCC%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86.html" aria-label="MVCC实现原理"><!---->MVCC实现原理<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Redis"><!--[--><!---->Redis<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/Redis/Redis%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C.html" aria-label="Redis的安装与基本操作"><!---->Redis的安装与基本操作<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/Redis/Redis%E7%9A%843%E7%A7%8D%E7%89%B9%E6%AE%8A%E7%B1%BB%E5%9E%8B.html" aria-label="Redis的3种特殊类型"><!---->Redis的3种特殊类型<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/Redis/Redis%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BB%8B%E7%BB%8D.html" aria-label="Redis配置文件介绍"><!---->Redis配置文件介绍<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/Redis/Redis%E7%9A%84Java%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%A4%BA%E4%BE%8B.html" aria-label="Redis的Java客户端示例"><!---->Redis的Java客户端示例<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/Redis/Redis%E4%BA%8B%E5%8A%A1.html" aria-label="Redis事务"><!---->Redis事务<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/Redis/RDB%E7%AE%80%E4%BB%8B.html" aria-label="RDB简介"><!---->RDB简介<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/Redis/AOF%E7%AE%80%E4%BB%8B.html" aria-label="AOF简介"><!---->AOF简介<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/Redis/%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6%E5%8F%8A%E5%93%A8%E5%85%B5.html" aria-label="主从复制及哨兵"><!---->主从复制及哨兵<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/Redis/Redis%E9%9B%86%E7%BE%A4.html" aria-label="Redis集群"><!---->Redis集群<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/Redis/%E4%BD%BF%E7%94%A8%E7%BC%93%E5%AD%98%E4%BC%9A%E5%AD%98%E5%9C%A8%E5%93%AA%E4%BA%9B%E9%97%AE%E9%A2%98.html" aria-label="使用缓存会存在哪些问题"><!---->使用缓存会存在哪些问题<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="工具"><!--[--><!---->工具<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">Git</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/%E5%B7%A5%E5%85%B7/Git/Git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html" aria-label="Git常用命令"><!---->Git常用命令<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/%E5%B7%A5%E5%85%B7/Git/Git%20%E6%8F%90%E4%BA%A4%E8%A7%84%E7%BA%A6.html" aria-label="Git 提交规约"><!---->Git 提交规约<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">Linux</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/%E5%B7%A5%E5%85%B7/Linux/Linux%E7%9A%84%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84.html" aria-label="Linux的文件结构"><!---->Linux的文件结构<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/%E5%B7%A5%E5%85%B7/Linux/Linux%E7%9A%84%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86.html" aria-label="Linux的进程管理"><!---->Linux的进程管理<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/%E5%B7%A5%E5%85%B7/Linux/Linux%E5%B8%B8%E7%94%A8%E7%BD%91%E7%BB%9C%E5%91%BD%E4%BB%A4.html" aria-label="Linux常用网络命令"><!---->Linux常用网络命令<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">Docker</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/%E5%B7%A5%E5%85%B7/Docker/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html" aria-label="Docker常用命令"><!---->Docker常用命令<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/%E5%B7%A5%E5%85%B7/Docker/DokcerCompose%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8.html" aria-label="DokcerCompose简单使用"><!---->DokcerCompose简单使用<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">Nginx</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/%E5%B7%A5%E5%85%B7/Nginx/Nginx%E7%9A%84%E5%AE%89%E8%A3%85.html" aria-label="Nginx的安装"><!---->Nginx的安装<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/%E5%B7%A5%E5%85%B7/Nginx/Nginx%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.html" aria-label="Nginx基础入门"><!---->Nginx基础入门<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">其他</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/%E5%B7%A5%E5%85%B7/%E5%85%B6%E4%BB%96/Arthas%E4%BD%BF%E7%94%A8%E5%B0%8F%E7%BB%93.html" aria-label="Arthas使用小结"><!---->Arthas使用小结<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/工具/其他/基于Gitee实现Jenkins自动化部署SpringBoot项目/" aria-label="基于Gitee实现Jenkins自动化部署SpringBoot项目"><!---->基于Gitee实现Jenkins自动化部署SpringBoot项目<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/%E5%B7%A5%E5%85%B7/%E5%85%B6%E4%BB%96/%E5%9F%BA%E4%BA%8Ejmeter%E5%AE%8C%E6%88%90%E5%8E%8B%E6%B5%8B.html" aria-label="基于jmeter完成压测"><!---->基于jmeter完成压测<!----></a></li></ul></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="分布式"><!--[--><!---->分布式<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/%E5%88%86%E5%B8%83%E5%BC%8F/CAP%E5%92%8CBASE%E7%90%86%E8%AE%BA.html" aria-label="CAP和BASE理论"><!---->CAP和BASE理论<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/%E5%88%86%E5%B8%83%E5%BC%8F/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88.html" aria-label="分布式事务的解决方案"><!---->分布式事务的解决方案<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/%E5%88%86%E5%B8%83%E5%BC%8F/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E7%9A%84%E5%87%A0%E7%A7%8D%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F.html" aria-label="分布式锁的几种实现方式"><!---->分布式锁的几种实现方式<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/%E5%88%86%E5%B8%83%E5%BC%8F/%E4%BB%80%E4%B9%88%E6%98%AFxxl-job%EF%BC%8C%E5%AE%83%E8%A7%A3%E5%86%B3%E4%BB%80%E4%B9%88%E9%97%AE%E9%A2%98.html" aria-label="什么是xxl-job，它解决什么问题"><!---->什么是xxl-job，它解决什么问题<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="框架"><!--[--><!---->框架<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">Spring</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/%E6%A1%86%E6%9E%B6/Spring/Spring%E7%9A%84%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3.html" aria-label="Spring的常用注解"><!---->Spring的常用注解<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/%E6%A1%86%E6%9E%B6/Spring/@Autowired%E6%B3%A8%E8%A7%A3%E8%AF%A6%E8%A7%A3.html" aria-label="@Autowired注解详解"><!---->@Autowired注解详解<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/框架/Spring/SpringBean的作用域.html" aria-label="SpringBean的作用域"><!---->SpringBean的作用域<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/%E6%A1%86%E6%9E%B6/Spring/Spring%E4%B8%89%E7%BA%A7%E7%BC%93%E5%AD%98%E4%B8%8E%E5%BE%AA%E7%8E%AF%E4%BE%9D%E8%B5%96.html" aria-label="Spring三级缓存与循环依赖"><!---->Spring三级缓存与循环依赖<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/%E6%A1%86%E6%9E%B6/Spring/JDK%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E5%92%8CCGlib%E4%BB%A3%E7%90%86.html" aria-label="JDK动态代理和CGlib代理"><!---->JDK动态代理和CGlib代理<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">Netty</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/%E6%A1%86%E6%9E%B6/Netty/Netty%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E5%85%A5%E9%97%A8%E5%B0%8F%E7%BB%93.html" aria-label="Netty基础概念入门小结"><!---->Netty基础概念入门小结<!----></a></li></ul></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="中间件"><!--[--><!---->中间件<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">消息队列</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link route-link-active auto-link" href="/%E4%B8%AD%E9%97%B4%E4%BB%B6/RabbitMQ/RabbitMQ%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8.html" aria-label="RabbitMQ简单使用"><!---->RabbitMQ简单使用<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">Canal</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/%E4%B8%AD%E9%97%B4%E4%BB%B6/Canal/Canal%E7%9A%84%E4%BD%BF%E7%94%A8.html" aria-label="Canal的使用"><!---->Canal的使用<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">Sharding-JDBC</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/中间件/Canal/Canal的使用/Sharding-JDBC的简单使用.html" aria-label="Sharding-JDBC的简单使用"><!---->Sharding-JDBC的简单使用<!----></a></li></ul></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="业务理解"><!--[--><!---->业务理解<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/%E4%B8%9A%E5%8A%A1%E7%90%86%E8%A7%A3/%E5%AF%B9%E6%94%AF%E4%BB%98%E7%B3%BB%E7%BB%9F%E7%9A%84%E4%B8%AA%E4%BA%BA%E7%90%86%E8%A7%A3.html" aria-label="对支付系统的个人理解"><!---->对支付系统的个人理解<!----></a></li></ul></button></div></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!----><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><form class="search-box" role="search"><input type="search" placeholder="搜索" autocomplete="off" spellcheck="false" value><!----></form><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><!----><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->RabbitMQ简单使用</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">maijunxuan</span></span><span property="author" content="maijunxuan"></span></span><!----><!----><!----><span class="page-word-info" aria-label="字数🔠" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="word icon" name="word"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>约 2264 字</span><meta property="wordCount" content="2264"></span><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 8 分钟</span><meta property="timeRequired" content="PT8M"></span></div><hr></div><!----><div class="" vp-content><!----><div id="markdown-content"><h1 id="rabbitmq简单使用" tabindex="-1"><a class="header-anchor" href="#rabbitmq简单使用"><span>RabbitMQ简单使用</span></a></h1><h2 id="一、基础" tabindex="-1"><a class="header-anchor" href="#一、基础"><span>一、基础</span></a></h2><h3 id="_1-1是什么" tabindex="-1"><a class="header-anchor" href="#_1-1是什么"><span>1.1是什么</span></a></h3><p>RabbitMQ是一个开源的遵循AMQP协议实现的基于Erlang语言编写，支持多种客户端（语言）。用于在分布式系统中存储消息，转发消息，具有高可用，高可扩性，易用性等特征。</p><h3 id="_1-2命令" tabindex="-1"><a class="header-anchor" href="#_1-2命令"><span>1.2命令</span></a></h3><h4 id="常用命令" tabindex="-1"><a class="header-anchor" href="#常用命令"><span>常用命令</span></a></h4><p>启动服务</p><blockquote><p>systemctl start rabbitmq-server</p></blockquote><p>重启服务</p><blockquote><p>systemctl restart rabbitmq-server</p></blockquote><p>查看服务状态</p><blockquote><p>systemctl status rabbitmq-server</p></blockquote><p>停止服务</p><blockquote><p>systemctl stop rabbitmq-server</p></blockquote><p>开机启动服务</p><blockquote><p>systemctl enable rabbitmq-server</p></blockquote><p>安装web控制台插件</p><blockquote><p>rabbitmq-plugins enable rabbitmq_management</p></blockquote><h4 id="用户相关" tabindex="-1"><a class="header-anchor" href="#用户相关"><span>用户相关</span></a></h4><blockquote><p>rabbitmqctl add_user 账号 密码 rabbitmqctl set_user_tags 账号 administrator rabbitmqctl change_password Username Newpassword 修改密码 rabbitmqctl delete_user Username 删除用户 rabbitmqctl list_users 查看用户清单 rabbitmqctl set_permissions -p / 用户名 &quot;.<em>&quot; &quot;.</em>&quot; &quot;.<em>&quot; 为用户设置administrator角色 rabbitmqctl set_permissions -p / root &quot;.</em>&quot; &quot;.<em>&quot; &quot;.</em>&quot;</p></blockquote><h4 id="linux排查命令" tabindex="-1"><a class="header-anchor" href="#linux排查命令"><span>linux排查命令</span></a></h4><blockquote><p>more xxx.log 查看日记信息 netstat -naop | grep 5672 查看端口是否被占用 ps -ef | grep 5672 查看进程 systemctl stop 服务</p></blockquote><h4 id="docker相关命令" tabindex="-1"><a class="header-anchor" href="#docker相关命令"><span>docker相关命令</span></a></h4><p>默认用户名密码guest</p><blockquote><p>docker run -di --name=myrabbit -p 15672:15672 rabbitmq:management</p></blockquote><p>方式二 启动容器时命名为myrabbit，同时映射rabbitmq和宿主机的端口，并设置用户名和密码为admin</p><blockquote><p>docker run -di --name myrabbit -e RABBITMQ_DEFAULT_USER=admin -e RABBITMQ_DEFAULT_PASS=admin -p 15672:15672 -p 5672:5672 -p 25672:25672 -p 61613:61613 -p 1883:1883 rabbitmq:management</p></blockquote><h3 id="_1-3角色分类" tabindex="-1"><a class="header-anchor" href="#_1-3角色分类"><span>1.3角色分类</span></a></h3><h4 id="none" tabindex="-1"><a class="header-anchor" href="#none"><span>none</span></a></h4><ul><li>不能访问management plugin</li></ul><h4 id="management-查看自己相关节点信息" tabindex="-1"><a class="header-anchor" href="#management-查看自己相关节点信息"><span>management：查看自己相关节点信息</span></a></h4><ul><li>列出自己可以通过AMQP登入的虚拟机</li><li>查看自己的虚拟机节点 virtual hosts的queues,exchanges和bindings信息</li><li>查看和关闭自己的channels和connections</li><li>查看有关自己的虚拟机节点virtual hosts的统计信息。包括其他用户在这个节点virtual hosts中的活动信息。</li></ul><h4 id="policymaker" tabindex="-1"><a class="header-anchor" href="#policymaker"><span>Policymaker</span></a></h4><ul><li>包含management所有权限</li><li>查看和创建和删除自己的virtual hosts所属的policies和parameters信息。</li></ul><h4 id="monitoring" tabindex="-1"><a class="header-anchor" href="#monitoring"><span>Monitoring</span></a></h4><ul><li>包含management所有权限</li><li>罗列出所有的virtual hosts，包括不能登录的virtual hosts。</li><li>查看其他用户的connections和channels信息</li><li>查看节点级别的数据如clustering和memory使用情况</li><li>查看所有的virtual hosts的全局统计信息。</li></ul><h4 id="administrator" tabindex="-1"><a class="header-anchor" href="#administrator"><span>Administrator</span></a></h4><ul><li>最高权限</li><li>可以创建和删除virtual hosts</li><li>可以查看，创建和删除users</li><li>查看创建permisssions</li><li>关闭所有用户的connections</li></ul><h2 id="二、核心组成部分" tabindex="-1"><a class="header-anchor" href="#二、核心组成部分"><span>二、核心组成部分</span></a></h2><h3 id="_2-1核心概念" tabindex="-1"><a class="header-anchor" href="#_2-1核心概念"><span>2.1核心概念</span></a></h3><p><strong>Server</strong>：又称Broker ,接受客户端的连接，实现AMQP实体服务。 安装rabbitmq-server <strong>Connection</strong>：连接，应用程序与Broker的网络连接 TCP/IP/ 三次握手和四次挥手 <strong>Channel</strong>：网络信道，几乎所有的操作都在Channel中进行，Channel是进行消息读写的通道，客户端可以建立对各Channel，每个Channel代表一个会话任务。 <strong>Message</strong> :消息：服务与应用程序之间传送的数据，由Properties和body组成，Properties可是对消息进行修饰，比如消息的优先级，延迟等高级特性，Body则就是消息体的内容。 <strong>Virtual Host</strong> 虚拟地址，用于进行逻辑隔离，最上层的消息路由，一个虚拟主机理由可以有若干个Exhange和Queueu，同一个虚拟主机里面不能有相同名字的Exchange <strong>Exchange</strong>：交换机，接受消息，根据路由键发送消息到绑定的队列。(==不具备消息存储的能力==) <strong>Bindings</strong>：Exchange和Queue之间的虚拟连接，binding中可以保护多个routing key. <strong>Routing key</strong>：是一个路由规则，虚拟机可以用它来确定如何路由一个特定消息。 <strong>Queue</strong>：队列：也成为Message Queue,消息队列，保存消息并将它们转发给消费者。</p><h3 id="_2-2运行流程" tabindex="-1"><a class="header-anchor" href="#_2-2运行流程"><span>2.2运行流程</span></a></h3><p><img src="https://cdn.jsdelivr.net/gh/mai-junxuan/Cloud-image/image/202209210532087.webp" alt="img"></p><h2 id="三、支持消息的模式" tabindex="-1"><a class="header-anchor" href="#三、支持消息的模式"><span>三、支持消息的模式</span></a></h2><h3 id="_1-简单模式-hello-world" tabindex="-1"><a class="header-anchor" href="#_1-简单模式-hello-world"><span>1. 简单模式(Hello World)</span></a></h3><p><img src="https://cdn.jsdelivr.net/gh/mai-junxuan/Cloud-image/image/202209210532104.png" alt="img"></p><p>做最简单的事情，一个生产者对应一个消费者，RabbitMQ相当于一个消息代理，负责将A的消息转发给B。</p><p>单生产者，单消费者，单队列。</p><hr><p>应用场景：</p><blockquote><p>将发送的电子邮件放到消息队列，然后邮件服务在队列中获取邮件并发送给收件人。</p></blockquote><h3 id="_2-工作队列模式-work-queues" tabindex="-1"><a class="header-anchor" href="#_2-工作队列模式-work-queues"><span>2. 工作队列模式(Work queues)</span></a></h3><p><img src="https://cdn.jsdelivr.net/gh/mai-junxuan/Cloud-image/image/202209210532481.png" alt="img"></p><p>在多个消费者之间分配任务(竞争的消费者模式)，一个生产者对应多个消费者。</p><p>适用于资源密集型任务， 单个消费者处理不过来，需要多个消费者进行处理的场景。</p><p>单生产者，多消费者，单队列。</p><hr><p>应用场景：</p><blockquote><p>一个订单的处理需要10s，有多个订单可以同时放到消息队列，</p><p>然后让多个消费者同时并行处理，而不是单个消费者的串行消费。</p></blockquote><h3 id="_3-发布订阅模式-publish-subscribe" tabindex="-1"><a class="header-anchor" href="#_3-发布订阅模式-publish-subscribe"><span>3. 发布订阅模式(Publish/Subscribe)</span></a></h3><p><img src="https://cdn.jsdelivr.net/gh/mai-junxuan/Cloud-image/image/202209210532573.png" alt="img"></p><p>一次向许多消费者发送消息，将消息将广播到所有的消费者。</p><p>单生产者，多消费者，多队列。</p><p>应用场景：</p><blockquote><p>更新商品库存后需要通知多个缓存和多个数据库。</p></blockquote><p>结构如下：</p><ul><li>一个fanout类型交换机扇出两个消息队列，分别为缓存消息队列、数据库消息队列</li><li>一个缓存消息队列对应着多个缓存消费者</li><li>一个数据库消息队列对应着多个数据库消费者</li></ul><h3 id="_4-路由模式-routing" tabindex="-1"><a class="header-anchor" href="#_4-路由模式-routing"><span>4. 路由模式(Routing)</span></a></h3><p><img src="https://cdn.jsdelivr.net/gh/mai-junxuan/Cloud-image/image/202209210532800.png" alt="路由模式(Routing)"></p><p>根据Routing Key有选择地接收消息。</p><p>多消费者，选择性多队列，每个队列通过routing key全文匹配。</p><blockquote><p>发送消息到交换机并且要指定路由键(Routing key) 。 消费者将队列绑定到交换机时需要指定路由key，仅消费指定路由key的消息。</p></blockquote><p>应用场景：</p><blockquote><p>在商品库存中增加了1台iphone12，iphone12促销活动消费者指定routing key为iphone12 promote， 只有此促销活动会接收到消息，其它促销活动不关心也不会消费此routing key的消息。</p></blockquote><h3 id="_5-主题模式-topics" tabindex="-1"><a class="header-anchor" href="#_5-主题模式-topics"><span>5. 主题模式(Topics)</span></a></h3><p><img src="https://cdn.jsdelivr.net/gh/mai-junxuan/Cloud-image/image/202209210532250.png" alt="主题模式(Topics)"></p><p>主题交换机方式接收消息，将routing key和模式进行匹配。</p><p>多消费者，选择性多队列，每个队列通过模式匹配。</p><blockquote><p>队列需要绑定在一个模式上。 #匹配一个词或多个词，*只匹配一个词。</p></blockquote><p>应用场景：</p><blockquote><p>iphone促销活动可以接收主题为多种iPhone的消息，如iphone12、iphone13等。</p></blockquote><h3 id="_6-远程过程调用-rpc" tabindex="-1"><a class="header-anchor" href="#_6-远程过程调用-rpc"><span>6. 远程过程调用(RPC)</span></a></h3><p><img src="https://cdn.jsdelivr.net/gh/mai-junxuan/Cloud-image/image/202209210532576.png" alt="远程过程调用(RPC)"></p><p>在远程计算机上运行功能并等待结果。</p><p>应用场景：</p><blockquote><p>需要等待接口返回数据，如订单支付。</p></blockquote><h3 id="_7-发布者确认-publisher-confirms" tabindex="-1"><a class="header-anchor" href="#_7-发布者确认-publisher-confirms"><span>7. 发布者确认(Publisher Confirms)</span></a></h3><p>与发布者进行可靠的发布确认，发布者确认是RabbitMQ扩展，可以实现可靠的发布。</p><blockquote><p>在通道上启用发布者确认后，RabbitMQ将异步确认发送者发布的消息，这意味着它们已在服务器端处理。</p></blockquote><p>应用场景：</p><blockquote><p>对于消息可靠性要求较高，比如钱包扣款。</p></blockquote><h2 id="四、rabbitmq的使用场景" tabindex="-1"><a class="header-anchor" href="#四、rabbitmq的使用场景"><span>四、RabbitMQ的使用场景</span></a></h2><ol><li>异步执行</li><li>高内聚，低耦合</li><li>流量的削峰</li><li>分布式事务的可靠消费和可靠生产</li><li>索引、缓存、静态化处理的数据同步</li><li>流量监控</li><li>日志监控（ELK）</li><li>下单、订单分发、抢票</li></ol><h2 id="五、过期时间ttl" tabindex="-1"><a class="header-anchor" href="#五、过期时间ttl"><span>五、过期时间TTL</span></a></h2><p>过期时间TTL表示可以对消息设置预期的时间，在这个时间内都可以被消费者接收获取；过了之后消息将自动被删除。RabbitMQ可以对<strong>消息和队列</strong>设置TTL。目前有两种方法可以设置。</p><ul><li>第一种是把消息队列设置成过期类型的队列，web界面会有TTL标识。设置完过期时间后，此队列的所有消息到期后都会过期。如果绑定了死信队列，则会把过期的消息==移到==死信队列里面。</li><li>第二种是给单个消息设置过期。</li><li>如果上述两种方法同时使用，则消息的过期时间以两者之间==TTL较小==的那个数值为准。</li></ul><p><strong>TTL标识</strong></p><p><img src="https://cdn.jsdelivr.net/gh/mai-junxuan/Cloud-image/image/202209210532420.webp" alt="img"></p><h2 id="六、死信队列" tabindex="-1"><a class="header-anchor" href="#六、死信队列"><span>六、死信队列</span></a></h2><p>DLX，全称为Dead-Letter-Exchange , 可以称之为死信交换机。当消息在一个队列中变成死信(dead message)之后，它能被重新发送到另一个交换机中，这个交换机就是DLX ，绑定DLX的队列就称之为死信队列。消息变成死信的原因：</p><ul><li>消息被拒绝</li><li>消息过期</li><li>队列达到最大长度</li></ul><blockquote><p>DLX也是一个正常的交换机，和一般的交换机没有区别，它能在任何的队列上被指定，实际上就是设置某一个队列的属性。当这个队列中存在死信时，Rabbitmq就会自动地将这个消息重新发布到设置的DLX上去，进而被路由到另一个队列，即死信队列。要想使用死信队列，只需要在定义队列的时候设置队列参数 <code>x-dead-letter-exchange</code> 指定交换机即可</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/mai-junxuan/Cloud-image/image/202209210532597.webp" alt="img"></p></div><!----><!----><!----></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">最近更新</span><time class="vp-meta-info" datetime="2023-06-13T21:01:35.000Z" data-allow-mismatch>2023/6/13 21:01</time></div><div class="contributors"><span class="vp-meta-label">贡献者: </span><!--[--><!--[--><span class="vp-meta-info" title="email: 1585225345@qq.com">MJX</span><!--]--><!--]--></div></div></footer><!----><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><!----><div class="vp-copyright">Copyright © 2025 maijunxuan </div></footer></div><!--]--><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/assets/app-BEFL3G1x.js" defer></script>
  </body>
</html>
